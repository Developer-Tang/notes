## 数据库三大范式

- **第一范式：** 保证每列的原子性，每列都不可再分
- **第二范式：** 满足第一范式的同时保证每列都与主键列存在关联
- **第三范式：** 满足第二范式的同时保证每列都与主键列存在之间关联，而非间接关联

## MySQL数据类型相关

### int(10)与char(10)的区别

int(10)表示存储数字的长度，而char(10)表示数据实际所能占用的字节数，如果char中存储为汉字时每个字符所占用的字节长度有所增加，能存放的字符也就响应减少

## MySQL语法及函数相关

### like中%与_的区别

- `%` 可以匹配0到多个字符
- `_` 只能匹配一个

### exists和in的区别

**exists:** exists将外查询表中的每一行数据，带入子查询中条件是否成立，条件就为真，返回外表当前记录。反之如果exists里的条件语句不能返回记录行，条件为假，则外表当前记录被丢弃

```sql
select a.*
from A a
where exists(select 1 from B b where a.id = b.id)
```

**in:** 是先把后边的语句查出来放到临时表中，然后遍历临时表，将临时表的每一行，代入外查询去查找。

```sql
select *
from A
where id in (select id from B)
```

## MySQL程序设计相关

### MySQL中有哪几种锁

- **行级锁：** 数据库中颗粒度最小的锁，针对一行数据进行加锁，但加锁开销大加锁慢，会出现死锁。锁力度小，发生锁冲突的概率小，并发度最高
- **页级锁：**
- **表级锁：** 数据库中颗粒度最大的锁，针对整表数据进行加锁，开销小加锁快，不会出现死锁。锁定粒度大，发生锁冲突的概率最高，并发量最低

### MySQL中MyISAM与InnoDB的区别

**InnoDB**

- 支持事务
- 支持行级锁
- 支持MVCC
- 表主键
- 支持外键
- 不支持全文索引
- 拷贝数据文件、备份binlog，或者用mysqldump数据量大时备份、迁移会很麻烦
- 一般所有的表都保存在同一个数据文件中，InnoDB表的大小受限于操作系统文件的大小，一般为 2GB
  > **MyISAM**
- 不支持事务
- 支持表级锁
- 不支持MVCC
- 不支持表主键
- 不支持外键
- 支持全文索引
- 数据是以文件的形式存储，在跨平台的数据转移中会很方便。在备份和恢复时可单独针对某个表进行操作
- 每个MyISAM+在磁盘上存储成三个文件。第一个文件的名字以表的名字开始，扩展名指出文件类型.frm 文件存储表定义。数据文件的扩展名为.MYD (MYData)。索引文件的扩展名是.MYI (MYIndex)
